<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            提升网站性能的方法总结 | 
        
        Hummingman
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" sizes="192x192" href="/img/favicon.ico">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0099CC">
    <meta name="author" content="Anderson">
    <meta name="description" content="Real Developer Ship">
    <meta name="keywords" content="Hummingman,Software Engineering,Performance Optimization,性能优化">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hummingman">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="提升网站性能的方法总结 | Hummingman">
    <meta property="og:description" content="Real Developer Ship">
    <meta property="og:article:tag" content="Software Engineering"> <meta property="og:article:tag" content="Performance Optimization"> <meta property="og:article:tag" content="性能优化"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #0099CC;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0099CC !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0099CC !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0099CC !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #0099CC;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化1：（后端）启用GZIP压缩"><span class="post-toc-number">1.</span> <span class="post-toc-text">优化1：（后端）启用GZIP压缩</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化2：（后端）启用ETag"><span class="post-toc-number">2.</span> <span class="post-toc-text">优化2：（后端）启用ETag</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化3：（架构）减少HTTP请求"><span class="post-toc-number">3.</span> <span class="post-toc-text">优化3：（架构）减少HTTP请求</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化4：（架构）使用CDN加速"><span class="post-toc-number">4.</span> <span class="post-toc-text">优化4：（架构）使用CDN加速</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化5：（前端）启用Expires"><span class="post-toc-number">5.</span> <span class="post-toc-text">优化5：（前端）启用Expires</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化6：（前端）将CSS引用放在页面顶部"><span class="post-toc-number">6.</span> <span class="post-toc-text">优化6：（前端）将CSS引用放在页面顶部</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化7：（前端）将js引用放在底部"><span class="post-toc-number">7.</span> <span class="post-toc-text">优化7：（前端）将js引用放在底部</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化8：（前端）避免使用CSS表达式"><span class="post-toc-number">8.</span> <span class="post-toc-text">优化8：（前端）避免使用CSS表达式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化9：（前端）引用外部CSS和JS文件"><span class="post-toc-number">9.</span> <span class="post-toc-text">优化9：（前端）引用外部CSS和JS文件</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化10：（网络）减少DNS查找"><span class="post-toc-number">10.</span> <span class="post-toc-text">优化10：（网络）减少DNS查找</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化11：（前端）精简Javascript代码"><span class="post-toc-number">11.</span> <span class="post-toc-text">优化11：（前端）精简Javascript代码</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化12：（前端）删除重复的引用"><span class="post-toc-number">12.</span> <span class="post-toc-text">优化12：（前端）删除重复的引用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化13：（前端）避免重定向"><span class="post-toc-number">13.</span> <span class="post-toc-text">优化13：（前端）避免重定向</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化14：（前端）缓存AJAX请求"><span class="post-toc-number">14.</span> <span class="post-toc-text">优化14：（前端）缓存AJAX请求</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化15：（前端）延迟加载"><span class="post-toc-number">15.</span> <span class="post-toc-text">优化15：（前端）延迟加载</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化16：（前端）预加载"><span class="post-toc-number">16.</span> <span class="post-toc-text">优化16：（前端）预加载</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化17：（前端）减少DOM数量"><span class="post-toc-number">17.</span> <span class="post-toc-text">优化17：（前端）减少DOM数量</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化18：（前端）不在HTML页面中进行图片缩放"><span class="post-toc-number">18.</span> <span class="post-toc-text">优化18：（前端）不在HTML页面中进行图片缩放</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化19：（前端）favicon要小且可缓存"><span class="post-toc-number">19.</span> <span class="post-toc-text">优化19：（前端）favicon要小且可缓存</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化20：（前端）保持单个文件小于25K"><span class="post-toc-number">20.</span> <span class="post-toc-text">优化20：（前端）保持单个文件小于25K</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(/img/anderson/019.jpg)">
    
            <p class="article-headline-p">
                提升网站性能的方法总结
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Anderson</strong>
        <span>2017年01月18日</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">crop free</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACZElEQVR42u3aS3LDIBAFQN//0skBEqM3w0eyq7VKuRRMswD8Zl4/X/288PDw8PDw8PDwHsZ7xc/f//pn6OH71ZGbc8PDw8M7wrvYaoNJvOONpztemubc8PDw8A7y3n39+CvHk06WqXdI4OHh4X0WrwpOtvjxcuDh4eF9Oq/HHgcW+fh4eHh4z+HlG3TyfvWqnYfFG7MWPDw8vJiXF5nO/320voeHh4cX8GYCgrwtILl8z8QWeHh4eCd5+UbcQ1aXoDcfPDw8vJO8+cJVdQmSEaotBXh4eHjneXkrwHxzQH4k9AppeHh4eLt51UL+zJv5AiXLXfjFgIeHh7eB14sVeuFv9eCpNjHg4eHhneT1oodq/DpTGGt2RuDh4eFt6EpKfvBfXGSD4LW30edLj4eHh3eeVy16rb2Cb0+p8fDw8Jbyku27V6ZaNc7UlRoPDw9vKW+mCSC/Cvc2+rydCw8PD+8kb0eBKh9tPrbY3lOGh4eHN7xS59SZY6PXboWHh4f3NF5esK9GDL3W1fE7F8uHh4eHt5nXK1Alm3V1yaoBLh4eHt69vPwSPP9JteGgGi7j4eHhneRVG1KTJz9U5ktxeHh4eHfxVhX78xGqy1cOI/Dw8PCW8srbbhzs5oFCEoskkS4eHh7eGV5vO565CveOkwUpNR4eHt5SXq8NKy+JVY+H6uUbDw8P7y5er/mpEBMsiiQuRsPDw8N7MK9XBquGEeXP8fDw8B7M613Kq8FEHuDi4eHhneflk+u1F+RLliwEHh4e3r283rU4D2er8UTexICHh4d3nvd9Dx4eHh4eHh4e3gOeXxLe7TlTSLuTAAAAAElFTkSuQmCC">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark_border</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Performance-Optimization/">Performance Optimization</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Software-Engineering/">Software Engineering</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/性能优化/">性能优化</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">more_horiz</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=提升网站性能的方法总结&url=//2017/01/18/提升网站性能的方法总结/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=提升网站性能的方法总结&url=//2017/01/18/提升网站性能的方法总结/index.html&via=Anderson" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=//2017/01/18/提升网站性能的方法总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=//2017/01/18/提升网站性能的方法总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=//2017/01/18/提升网站性能的方法总结/index.html&title=提升网站性能的方法总结" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Hummingman&title=提升网站性能的方法总结&summary=Real Developer Ship&pics=/img/favicon.ico&url=/2017/01/18/提升网站性能的方法总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=//2017/01/18/提升网站性能的方法总结/index.html&text=提升网站性能的方法总结" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>《高性能网站建设》这本书中提到一个网站建设的黄金法则：”只有10%~20%的响应时间花在了下载HTML文档上，其余的80%~90%时间花在了下载页面的所有组件上”。所以，网站性能优化的中点在于如何削减这80%~90%的时间。</p>
<a id="more"></a>
<h4 id="优化1：（后端）启用GZIP压缩"><a href="/2017/01/18/提升网站性能的方法总结/#优化1：（后端）启用GZIP压缩" class="headerlink" title="优化1：（后端）启用GZIP压缩"></a>优化1：（后端）启用GZIP压缩</h4><p>GZIP压缩可以比较大程度上减少网络的流量传输。其原理算是比较简单和直接，就是对返回的内容进行压缩。在HTTP中，只需要在Response中的Header里加入<code>Content-Type=Gzip</code>即可。一般对于页面、css、js等文件起到压缩作用，从而减少浏览器的下载时间，加速网站性能和提升用户体验。</p>
<h4 id="优化2：（后端）启用ETag"><a href="/2017/01/18/提升网站性能的方法总结/#优化2：（后端）启用ETag" class="headerlink" title="优化2：（后端）启用ETag"></a>优化2：（后端）启用ETag</h4><p>ETag是用来验证缓存的有效性的。ETag有自己特定的格式，这里不详细介绍。通过ETag，可以验证每次请求的资源是否发生过变化，如果没有变化，则服务端返回304，从而避免重复下载相同的资源。但是，对于分布式的后端集群，比如通过反向代理实现的大规模集群中，如果使用ETag则会打打损耗性能。因为需要对比多台服务器上的ETag值。一般情况下，默认携带ETag信息，可以禁用。</p>
<h4 id="优化3：（架构）减少HTTP请求"><a href="/2017/01/18/提升网站性能的方法总结/#优化3：（架构）减少HTTP请求" class="headerlink" title="优化3：（架构）减少HTTP请求"></a>优化3：（架构）减少HTTP请求</h4><p>每一个HTTP请求在服务器中一般都表现为一个线程，在并发环境下，大量线程会驻留在服务器的请求队列中，同时，不同的服务器也会创建不同数量的最大线程去维护和处理并发的请求。而没创建一个线程，都需要耗费资源和时间去维护。所以应当减少一个页面对应的HTTP请求数量。一般可以使用预加载或者延迟加载来减少同一时刻下（宏观上）的并发请求，减少请求队列的长度，从而缩短请求的响应时间。</p>
<h4 id="优化4：（架构）使用CDN加速"><a href="/2017/01/18/提升网站性能的方法总结/#优化4：（架构）使用CDN加速" class="headerlink" title="优化4：（架构）使用CDN加速"></a>优化4：（架构）使用CDN加速</h4><p>CDN加速主要是因为减少了DNS的寻找时间和网络之间通讯的跳数，从而减少连接到服务器和从服务器返回到客户端的时间。</p>
<h4 id="优化5：（前端）启用Expires"><a href="/2017/01/18/提升网站性能的方法总结/#优化5：（前端）启用Expires" class="headerlink" title="优化5：（前端）启用Expires"></a>优化5：（前端）启用Expires</h4><p>原理比较简单，通过设置Headers中的Expires属性的值，来表明该内容是否具有缓存，是否具有有效缓存。但是缓存也不能滥用，一般对高访问低修改的数据使用缓存。</p>
<h4 id="优化6：（前端）将CSS引用放在页面顶部"><a href="/2017/01/18/提升网站性能的方法总结/#优化6：（前端）将CSS引用放在页面顶部" class="headerlink" title="优化6：（前端）将CSS引用放在页面顶部"></a>优化6：（前端）将CSS引用放在页面顶部</h4><p>原理很简单，HTML的渲染是从头到尾的渲染模式，将CSS放在顶部，可以在加载页面内容的同时渲染其样式，否则，在浏览器渲染过程中，加载完页面到渲染样式完毕的时间间隔内可能会出现白屏的现象。</p>
<h4 id="优化7：（前端）将js引用放在底部"><a href="/2017/01/18/提升网站性能的方法总结/#优化7：（前端）将js引用放在底部" class="headerlink" title="优化7：（前端）将js引用放在底部"></a>优化7：（前端）将js引用放在底部</h4><p>这个和上面的一个是一致的，本质上是由于浏览器页面渲染是从上往下进行渲染的。对于JS，一般来说执行时会引起线程阻塞，如果放在顶部，页面还没加载，就在执行对应的JS代码，会导致页面卡顿的现象。</p>
<h4 id="优化8：（前端）避免使用CSS表达式"><a href="/2017/01/18/提升网站性能的方法总结/#优化8：（前端）避免使用CSS表达式" class="headerlink" title="优化8：（前端）避免使用CSS表达式"></a>优化8：（前端）避免使用CSS表达式</h4><p>CSS表达式会进行频繁的求值，导致了性能低下。</p>
<h4 id="优化9：（前端）引用外部CSS和JS文件"><a href="/2017/01/18/提升网站性能的方法总结/#优化9：（前端）引用外部CSS和JS文件" class="headerlink" title="优化9：（前端）引用外部CSS和JS文件"></a>优化9：（前端）引用外部CSS和JS文件</h4><p>是否引用外部CSS和JS文件的区别在于，引用了外部文件后可能会被浏览器缓存，从而加快速度。</p>
<h4 id="优化10：（网络）减少DNS查找"><a href="/2017/01/18/提升网站性能的方法总结/#优化10：（网络）减少DNS查找" class="headerlink" title="优化10：（网络）减少DNS查找"></a>优化10：（网络）减少DNS查找</h4><p>善用DNS缓存，减少DNS查找时间。</p>
<h4 id="优化11：（前端）精简Javascript代码"><a href="/2017/01/18/提升网站性能的方法总结/#优化11：（前端）精简Javascript代码" class="headerlink" title="优化11：（前端）精简Javascript代码"></a>优化11：（前端）精简Javascript代码</h4><p>一般表现为移除不必要的空格，压缩文件的大小，比如常见的jquery.min.js。</p>
<h4 id="优化12：（前端）删除重复的引用"><a href="/2017/01/18/提升网站性能的方法总结/#优化12：（前端）删除重复的引用" class="headerlink" title="优化12：（前端）删除重复的引用"></a>优化12：（前端）删除重复的引用</h4><p>重复引用相同的JS文件，会导致浏览器额外下载重复的内容，延长加载的时间。同时可能应为相同的JS中存在相互冲突。</p>
<h4 id="优化13：（前端）避免重定向"><a href="/2017/01/18/提升网站性能的方法总结/#优化13：（前端）避免重定向" class="headerlink" title="优化13：（前端）避免重定向"></a>优化13：（前端）避免重定向</h4><p>重定向的耗时是因为，一次重定向需要向服务端发送两次请求，第一次将原始URL发送给服务端，服务端解析后返回重定向指令（HTTP 302），客户端接收到该指令后，重新向服务端发送需要重定向的地址，最后服务端返回重定向后的页面。所以重定向耗费的资源和时间是比较大的。</p>
<h4 id="优化14：（前端）缓存AJAX请求"><a href="/2017/01/18/提升网站性能的方法总结/#优化14：（前端）缓存AJAX请求" class="headerlink" title="优化14：（前端）缓存AJAX请求"></a>优化14：（前端）缓存AJAX请求</h4><p>本质上属于缓存的内容。即设置Expires信息。</p>
<h4 id="优化15：（前端）延迟加载"><a href="/2017/01/18/提升网站性能的方法总结/#优化15：（前端）延迟加载" class="headerlink" title="优化15：（前端）延迟加载"></a>优化15：（前端）延迟加载</h4><p>对于图片等，可以等页面渲染完后再慢慢渲染，没有必要一次性将庞大的图片资源渲染到页面中。</p>
<h4 id="优化16：（前端）预加载"><a href="/2017/01/18/提升网站性能的方法总结/#优化16：（前端）预加载" class="headerlink" title="优化16：（前端）预加载"></a>优化16：（前端）预加载</h4><p>和延迟加载相反，在页面使用前预先加载好，使其看起来响应速度更快，页面更流畅。</p>
<h4 id="优化17：（前端）减少DOM数量"><a href="/2017/01/18/提升网站性能的方法总结/#优化17：（前端）减少DOM数量" class="headerlink" title="优化17：（前端）减少DOM数量"></a>优化17：（前端）减少DOM数量</h4><p>主要HTML优化结构，加快渲染速度。</p>
<h4 id="优化18：（前端）不在HTML页面中进行图片缩放"><a href="/2017/01/18/提升网站性能的方法总结/#优化18：（前端）不在HTML页面中进行图片缩放" class="headerlink" title="优化18：（前端）不在HTML页面中进行图片缩放"></a>优化18：（前端）不在HTML页面中进行图片缩放</h4><p>不建议在html中设置长宽而使用比实际需要大的图片。比如：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">src</span>=<span class="string">"demo.jpg"</span>/&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="优化19：（前端）favicon要小且可缓存"><a href="/2017/01/18/提升网站性能的方法总结/#优化19：（前端）favicon要小且可缓存" class="headerlink" title="优化19：（前端）favicon要小且可缓存"></a>优化19：（前端）favicon要小且可缓存</h4><p>favicon.ico是web项目中根目录下的一个必要存在的网站图标文件。浏览器每次都会请求这一个favicon图标。并且每次都会携带相应的cookie信息。所以最好是将其缓存下来。</p>
<h4 id="优化20：（前端）保持单个文件小于25K"><a href="/2017/01/18/提升网站性能的方法总结/#优化20：（前端）保持单个文件小于25K" class="headerlink" title="优化20：（前端）保持单个文件小于25K"></a>优化20：（前端）保持单个文件小于25K</h4><p>这个主要是因为对于IOS是无法缓存超过25KB的文件的，所以需要注意文件的大小。</p>
<p><strong>以上总结来自《高性能网站建设》和Yahoo</strong></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    




                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/02/06/Gradle构建之compileJava-failed/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/01/11/UNIX编程艺术之系统优化/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Anderson's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        jieshiluxueyan@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/12/">十二月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/11/">十一月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/10/">十月 2015<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/09/">九月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/12/">十二月 2014<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/ASP-Net/">ASP.Net<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/Database/">Database<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/categories/Front-end/">Front-end<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/GWT/">GWT<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Gradle/">Gradle<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Hexo/">Hexo<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/Ionic/">Ionic<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/JQuery/">JQuery<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Linux/">Linux<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/REST/">REST<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Software-Engineering/">Software Engineering<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tool/">Tool<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/作品/">作品<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/杂项/">杂项<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/杂项/安全/">安全<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/游戏/">游戏<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/阅读/">阅读<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/随笔/">随笔<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">navigation</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时光">
                
                    <i class="material-icons sidebar-material-icons">fingerprint</i>
                
                时光
            </a>
        </li>
        
    
        <li>
            <a href="/download" title="下载">
                
                    <i class="material-icons sidebar-material-icons">cloud_download</i>
                
                下载
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    
        <li>
            <a href="/logs" title="日志">
                
                    <i class="material-icons sidebar-material-icons">link</i>
                
                日志
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">57</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    您是本站的第<span id="busuanzi_value_site_uv"></span>位访客
   
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Hummingman Maintain by Anderson
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">            
           
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    <script src="/js/smoothscroll.js"></script>





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>







<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = '';
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,'').toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title !== '' && data_content !== '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content + '...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>

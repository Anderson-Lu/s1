<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            手把手教你设计REST API | 
        
        Hummingman
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" sizes="192x192" href="/img/favicon.ico">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Anderson">
    <meta name="description" content="Real Developer Ship">
    <meta name="keywords" content="Hummingman,REST">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hummingman">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="手把手教你设计REST API | Hummingman">
    <meta property="og:description" content="Real Developer Ship">
    <meta property="og:article:tag" content="REST"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#REST原则一：API提供可扩展参数，用于数据的过滤。"><span class="post-toc-number">1.</span> <span class="post-toc-text">REST原则一：API提供可扩展参数，用于数据的过滤。</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#REST原则二：-API命名全部使用名词。"><span class="post-toc-number">2.</span> <span class="post-toc-text">REST原则二： API命名全部使用名词。</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#REST-扫盲知识"><span class="post-toc-number">3.</span> <span class="post-toc-text">REST 扫盲知识</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#REST原则三：版本控制"><span class="post-toc-number">4.</span> <span class="post-toc-text">REST原则三：版本控制</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#REST原则四：状态反馈"><span class="post-toc-number">5.</span> <span class="post-toc-text">REST原则四：状态反馈</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                手把手教你设计REST API
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Anderson</strong>
        <span>10月 08, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACXElEQVR42u3aQXLbMBAEQP3/084DUmRmFiSMqJonl0SBaB6w8GA/P199ffDw8PDw8PDw8A7jfeLr6ld/f56MfP+rpbnh4eHhbeH9Y6m9ePz6PVdTnM0NDw8Pbz/v6pH3j0+W7Pzb9bnh4eHhncy7H6EtAHh4eHjfymsn2gYNeHh4eP8Xr/iHP0YmZeP+KVuzFjw8PLyY18YKO//eer6Hh4eHF/AeaHIqj6/a8rDUdIWHh4f3Aq9drPMAtw0U2jaCyzvx8PDwXubNMHkUW4ewcXhR1D08PDy8R3ntpJ8qALPXFzUc4OHh4W3hFSHpqMVqdiQ2iyrw8PDw9vNmkesMOft2qXUADw8P7yHe7PiqnehKZJyHuXh4eHhv8/JFuV6gb6OHPJ6oIww8PDy8l3krYUR7ZPVUJIGHh4d3Jq9tzHojbmiPvvDw8PB28mYNWO2WN9lk501aS50ReHh4eAu8/BhsFh+0G+hZ8IGHh4d3Dq9teFoJcPPN+mOFAQ8PD+8FXh7U5tvlPD4ebvfx8PDwtvDWw4LkECt5Vj5OURjw8PDwHuWthAJtYWjHbDf9eHh4eHt4bQPBeuNUe2CWvCw8PDy8nbyV5X4W194XidmFh4eHt5PXXrMANz/+z18lHh4e3m/xZovvbKLrzVjRfPDw8PC28PJisNJS0DYlDA/G8PDw8Dby8qbVnVFv29SFh4eHdxqv/WQ2ZvtC8fDw8E7mrRePZJz7l4WHh4d3Dq8NI2aRQQ5uSwIeHh7eTl4+dLJ1TkpFe+dSTxkeHh7eo7zvu/Dw8PDw8PDw8A64/gCpd4t/GaqwgQAAAABJRU5ErkJggg==">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/REST/">REST</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=手把手教你设计REST API&url=//2016/10/08/手把手教你设计REST-API/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=手把手教你设计REST API&url=//2016/10/08/手把手教你设计REST-API/index.html&via=Anderson" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=//2016/10/08/手把手教你设计REST-API/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=//2016/10/08/手把手教你设计REST-API/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=//2016/10/08/手把手教你设计REST-API/index.html&title=手把手教你设计REST API" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Hummingman&title=手把手教你设计REST API&summary=Real Developer Ship&pics=/img/favicon.ico&url=/2016/10/08/手把手教你设计REST-API/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=//2016/10/08/手把手教你设计REST-API/index.html&text=手把手教你设计REST API" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>API？API是哪厮？可以吃吗？对于开发者行，永远避免不了对API的开发与维护，并根据API写好对应的接口文档。这个时候freshmans就会站出来说话了：只要前端拿到后端传递的数据就好了，何必这么浪费时间、浪费精力呢？曾几何时，我也这样想过，只是在企业中打滚了几个月之后，我再也不这么想，反而对这种想法深恶痛绝。</p>
<a id="more"></a>
<p>假设你看到这样的APIs：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[post] http://www.testapi.com/getApis</div><div class="line">[post] http://www.testapi.com/get_apis</div><div class="line">[post] http://www.testapi.com/GetApis</div><div class="line">[post] http://www.testapi.com/getapis</div><div class="line">[post] http://www.testapi.com/apis</div><div class="line">[post] http://www.testapi.com/getallapis</div><div class="line">...</div></pre></td></tr></table></figure>
<p>很明显在一个团队中，不同的人写出的代码可以说是千差万别。最痛苦的时刻莫过于阅读别人杂乱无章、充满各种无厘头的代码，这种煎熬，相信作为程序猿和攻城狮的你们一定深有感触吧。</p>
<p>有一次，我写了一个获取全部数据记录的接口，取名为<code>getAllData</code>。后来业务更改，需要对数据进行分页，于是，我又写了一个新的接口，取名为<code>getDataByPage</code>,接收两个参数，一个是<code>page_size</code>，一个是<code>page_index</code>。后来由于业务需要，需要进行对某些数据进行排序，于是，我又写了一个新的接口，取名为<code>getSortedDataByPage</code>,这次又接收了另外一个排序参数<code>sort_by</code>，我去，这不是坑爹么，这么写下去，到底还要多少个接口，还要多少个一大堆copy的代码堆？</p>
<table>
<thead>
<tr>
<th>接口</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>getAllData</td>
<td>获取所有记录</td>
</tr>
<tr>
<td>getDataByPage</td>
<td>分页获取数据</td>
</tr>
<tr>
<td>getSortedDataByPage</td>
<td>获取排好序的数据</td>
</tr>
</tbody>
</table>
<p>仔细发现之后，我果断的将其归纳为一个接口，这个接口提供可选的参数选项，包括分页，排序。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[post] https://www.testapi.com/api/data</div><div class="line"></div><div class="line">//获取所有记录</div><div class="line">[post] https://www.testapi.com/api/data</div><div class="line"></div><div class="line">//获取部分记录</div><div class="line">[post] https://www.testapi.com/api/data?page_index=1&amp;page_size=2&amp;limit=2&amp;offet=1</div><div class="line"></div><div class="line">//获取排序记录</div><div class="line">[post] https://www.testapi.com/api/data?sort_by=col</div></pre></td></tr></table></figure>
<h4 id="REST原则一：API提供可扩展参数，用于数据的过滤。"><a href="/2016/10/08/手把手教你设计REST-API/#REST原则一：API提供可扩展参数，用于数据的过滤。" class="headerlink" title="REST原则一：API提供可扩展参数，用于数据的过滤。"></a>REST原则一：API提供可扩展参数，用于数据的过滤。</h4><table>
<thead>
<tr>
<th>参数</th>
<th>意义</th>
<th>是否可选</th>
</tr>
</thead>
<tbody>
<tr>
<td>page_size</td>
<td>记录条数</td>
<td>可选</td>
</tr>
<tr>
<td>page_index</td>
<td>记录页数</td>
<td>可选</td>
</tr>
<tr>
<td>offset</td>
<td>忽略条数</td>
<td>可选</td>
</tr>
<tr>
<td>limit</td>
<td>最大条数</td>
<td>可选</td>
</tr>
<tr>
<td>sort_by</td>
<td>排序规则</td>
<td>可选</td>
</tr>
</tbody>
</table>
<p>除此之外，你是否发现在最开始列出的几个API，各种命名方式混在一个，搞了个全家桶。看着实在令人发狂，好吧，原谅我强迫症。但是，一个良好的代码生态应当有统一的代码规范，在RESTful中，也是一样。</p>
<h4 id="REST原则二：-API命名全部使用名词。"><a href="/2016/10/08/手把手教你设计REST-API/#REST原则二：-API命名全部使用名词。" class="headerlink" title="REST原则二： API命名全部使用名词。"></a>REST原则二： API命名全部使用名词。</h4><p>网络中的数据交互其实都是通过资源定位实现的，我们熟悉的URI（Unique Resource Identifier），表示网络上的一个实体，这个实体是一个资源，这个资源通过统一资源定位符来标记。比方说，一张图片，一个视频，都是网络上的一个资源(Resource),获取前后端交互中最熟悉的JSON，也可以看做是一个资源。所以，在API设计中，所有的数据交互都是基于资源的，即API的URL只存在名词。对于上述的接口例子，则可描述为：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https:<span class="regexp">//</span>www.testapi.com<span class="regexp">/api/</span>data</div></pre></td></tr></table></figure>
<p><strong>OK，说了这么多，那么，什么是REST？说了半天，却怎么听不懂REST API?</strong></p>
<h4 id="REST-扫盲知识"><a href="/2016/10/08/手把手教你设计REST-API/#REST-扫盲知识" class="headerlink" title="REST 扫盲知识"></a>REST 扫盲知识</h4><p><strong>小红</strong>：什么是REST啊？<br><strong>小明</strong> : REST 是Representation Statue Transfer的英文缩写， 翻译为中文称之为表现层状态转换。</p>
<p><strong>小红</strong>：那什么是表现层啊？<br><strong>小明</strong>：表现层类似于MVC中视图层的概念。所有的网络资源都是基于视图这个层进行表现的。通俗地说，就是所有的数据交互都是发生在视图层上的。</p>
<p><strong>小红</strong>：好像有点明白了，那什么是状态转换啊？<br><strong>小明</strong> ： 我们知道，所有的HTTP协议族都是无状态的，但是，我们页面上的数据交互，比如增删改，涉及到了数据的变化，或者说是资源的变化，这种变化是在服务端进行的，数据交互后造成的变化可以笼统地成为状态转化。</p>
<p><strong>小红</strong>：你说的是什么鬼？我怎么听不懂<br><strong>小明</strong>：听不懂很正常，说明你的还没悟出来其中的精华。</p>
<p><strong>小红</strong>：那什么是资源啊？<br><strong>小明</strong>：资源就是网络上的一个实体，比如一张图片啊，一个文件啊等等都是一个资源，英文就是Resource啦。</p>
<p><strong>小红</strong>：那表现层、状态转换、资源都是什么鬼？有啥关系吗？<br><strong>小明</strong>：表现层是资源的载体，状态转换时资源的作用方式，表现层负责状态转换过程中资源的展示。</p>
<p><strong>小红</strong>：哦哦，小明，你好帅！<br><strong>小明</strong>：谢谢，我知道我很帅啦！</p>
<p>这样大家应该都知道什么是REST API了吧！</p>
<h4 id="REST原则三：版本控制"><a href="/2016/10/08/手把手教你设计REST-API/#REST原则三：版本控制" class="headerlink" title="REST原则三：版本控制"></a>REST原则三：版本控制</h4><p>每个API都有相应的版本，一般来说，我们可以将版本号固定在URL中，这样是很直观的。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https:<span class="regexp">//</span>www.testapi.com<span class="regexp">/api/</span>v1_0_1_2<span class="regexp">/data</span></div></pre></td></tr></table></figure>
<p>当然，还有另外一种比较推荐的方式，就是将版本信息写入在HTTP头信息中。还有，我们熟悉的Github也是采用这种方式的哦。</p>
<h4 id="REST原则四：状态反馈"><a href="/2016/10/08/手把手教你设计REST-API/#REST原则四：状态反馈" class="headerlink" title="REST原则四：状态反馈"></a>REST原则四：状态反馈</h4><p>状态反馈这个词虽然是我自己说的，但是理解起来简单、易懂（突然有点佩服我的聪明才智了，别骂我臭不要脸）。意思就是说，每个API都应该对处理结果进行处理，在HTTP规范中，如下：</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1xx</td>
<td>请求已经被接收</td>
</tr>
<tr>
<td>2xx</td>
<td>请求已经成功被服务器接收、理解并接受</td>
</tr>
<tr>
<td>3xx</td>
<td>请求重定向</td>
</tr>
<tr>
<td>4xx</td>
<td>客户端错误</td>
</tr>
<tr>
<td>5xx</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<p>也就是说，在客户端错误中，REST需要将错误信息返还给客户端。对于服务端而言，我们需要向客户端开发4xx的错误，隐藏其他的错误。在返还错误中，我们可以向API中提供error属性。如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">     <span class="attr">"error"</span>:<span class="string">"找不到资源"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>好了，这次关于REST的学习总结到这里就结束了。有什么错误的地方记得提出来啊！</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key="2016/10/08/手把手教你设计REST-API/"
        data-url="/2016/10/08/手把手教你设计REST-API/"
        data-title="手把手教你设计REST API">
    </div>
    <!-- 多说评论框 end -->
</div>






                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/10/30/The-Hexo-Guide-For-Hummingbird/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/10/07/阅读笔记-《疯狂的程序员》/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Anderson's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        jieshiluxueyan@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/12/">十二月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/11/">十一月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/10/">十月 2015<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/09/">九月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/12/">十二月 2014<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/timeline" title="时光机">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                时光机
            </a>
        </li>
        
    
        <li>
            <a href="/download" title="下载">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                下载
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/Forward2015/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Hummingman
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">            
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    <script src="/js/smoothscroll.js"></script>





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        queue.offer(function(){
            var duoshuoQuery = {
                short_name: 'hummingman'
            };
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';
                ds.async = true;
                ds.src = 'https://static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                 || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        });
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = '';
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,'').toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title !== '' && data_content !== '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content + '...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
